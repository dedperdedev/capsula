# –ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ Capsula

## üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (–Ω—É–∂–Ω–æ –¥–æ–¥–µ–ª–∞—Ç—å)

### 1. Share Package Encryption
**–§–∞–π–ª:** `src/lib/share.ts:50`
- **–°—Ç–∞—Ç—É—Å:** MVP –≤–µ—Ä—Å–∏—è (—Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ JSON)
- **TODO:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è share packages
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –°–µ–π—á–∞—Å –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ –æ–±—ã—á–Ω—ã–π JSON. –ù—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AES-GCM —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∫ –≤ `exports.ts`

### 2. Drug Interactions Database
**–§–∞–π–ª:** `src/lib/drugInteractions.ts:180`
- **–°—Ç–∞—Ç—É—Å:** –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
- **TODO:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –°–µ–π—á–∞—Å –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥—É–±–ª–∏–∫–∞—Ç—ã. –ù—É–∂–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤

## üü° –í–∞–∂–Ω—ã–µ (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –¥–æ–¥–µ–ª–∞—Ç—å)

### 3. Routine Anchors UI –≤ SchedulePage
**–°—Ç–∞—Ç—É—Å:** –õ–æ–≥–∏–∫–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞, –Ω–æ –Ω–µ—Ç UI –¥–ª—è –≤—ã–±–æ—Ä–∞ —è–∫–æ—Ä–µ–π –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- **–ì–¥–µ:** `src/pages/SchedulePage.tsx`
- **–ß—Ç–æ –Ω—É–∂–Ω–æ:** –î–æ–±–∞–≤–∏—Ç—å –æ–ø—Ü–∏—é –≤—ã–±–æ—Ä–∞ —è–∫–æ—Ä—è (after_wake, after_breakfast, etc.) –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π

### 4. Share Functionality UI
**–°—Ç–∞—Ç—É—Å:** –ú–æ–¥—É–ª—å –≥–æ—Ç–æ–≤, –Ω–æ –Ω–µ—Ç UI –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ share packages
- **–ì–¥–µ:** `src/pages/SettingsPage.tsx` –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- **–ß—Ç–æ –Ω—É–∂–Ω–æ:** 
  - –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è" –≤ Settings
  - –ú–æ–¥–∞–ª –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ share package —Å –ø–∞—Ä–æ–ª–µ–º
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ QR-–∫–æ–¥–∞ –∏–ª–∏ —Å—Å—ã–ª–∫–∏
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π

### 5. Feature Flags UI –≤ Settings
**–°—Ç–∞—Ç—É—Å:** –ú–æ–¥—É–ª—å –≥–æ—Ç–æ–≤, –Ω–æ –Ω–µ—Ç UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–ª–∞–≥–∞–º–∏
- **–ì–¥–µ:** `src/pages/SettingsPage.tsx`
- **–ß—Ç–æ –Ω—É–∂–Ω–æ:** –°–µ–∫—Ü–∏—è "–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏" —Å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è–º–∏
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π

## üü¢ –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–∏–∑ roadmap)

### 6. Performance Indexing –¥–ª—è Event Log
**–°—Ç–∞—Ç—É—Å:** –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π –ø–æ –¥–∞—Ç–µ –∏ medicationId –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π (–≤–∞–∂–Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –æ–±—ä–µ–º–µ –¥–∞–Ω–Ω—ã—Ö)
- **–ì–¥–µ:** `src/data/eventLog.ts`

### 7. E2E Tests —Å Playwright
**–°—Ç–∞—Ç—É—Å:** –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π (–∫–∞—á–µ—Å—Ç–≤–æ)
- **–ì–¥–µ:** `e2e/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è

### 8. "Fast Start" Onboarding Flow
**–°—Ç–∞—Ç—É—Å:** –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: —Å–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–µ–ø–∞—Ä–∞—Ç–∞ + —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞ ‚â§ 60 —Å–µ–∫—É–Ω–¥
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π (UX —É–ª—É—á—à–µ–Ω–∏–µ)
- **–ì–¥–µ:** –ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–ª–∏ –º–æ–¥–∞–ª

### 9. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±–∞–∑—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
**–°—Ç–∞—Ç—É—Å:** –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –µ—Å—Ç—å
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
- **–ì–¥–µ:** `src/lib/drugInteractions.ts` + –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### 10. Cloud Sync (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
**–°—Ç–∞—Ç—É—Å:** –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –æ–±–ª–∞–∫–æ
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π (–∑–∞ feature flag)
- **–ì–¥–µ:** –ù–æ–≤—ã–π –º–æ–¥—É–ª—å `src/lib/cloudSync.ts`

## üîµ –£–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞

### 11. Unit Tests Coverage
**–°—Ç–∞—Ç—É—Å:** –ï—Å—Ç—å –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã, –Ω–æ –Ω–µ –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
- **–ß—Ç–æ –Ω—É–∂–Ω–æ:** –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è:
  - `routineAnchors.ts`
  - `shoppingList.ts`
  - `share.ts`
  - `timezone.ts`
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π

### 12. QR Code Generation –¥–ª—è Share
**–°—Ç–∞—Ç—É—Å:** –ó–∞–≥–ª—É—à–∫–∞ –≤ `src/lib/share.ts:112`
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–∞ –≤–º–µ—Å—Ç–æ placeholder
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É `qrcode` –∏–ª–∏ `qrcode.react`

### 13. PDF Report Improvements
**–°—Ç–∞—Ç—É—Å:** –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –µ—Å—Ç—å
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –≤ PDF:
  - On-time vs late —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
  - Skip reasons breakdown
  - Inventory "enough until"
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π

## üìù –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å)

### 14. Routine Anchors –≤ SchedulePage
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —è–∫–æ—Ä—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —è–∫–æ—Ä—å –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —è–∫–æ—Ä—è –≤ —Å–ø–∏—Å–∫–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π

### 15. Shopping List –≤ Navigation
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –≤ BottomNav (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –ò–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Settings

### 16. Family Overview –≤ Navigation
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –≤ BottomNav –∏–ª–∏ TopBar (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –ò–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Settings

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 17. Notification API –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö
- **–°—Ç–∞—Ç—É—Å:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ, –Ω–æ –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏, –Ω–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

### 18. Timezone Conversion
- **–°—Ç–∞—Ç—É—Å:** –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è (–±–µ–∑ –ø–æ–ª–Ω–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** `formatInProfileTimezone` –ø–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç, –Ω–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å `date-fns-tz` –∏–ª–∏ —Ä—É—á–Ω—É—é –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ:** 2 –∑–∞–¥–∞—á–∏
- **–í–∞–∂–Ω—ã–µ:** 3 –∑–∞–¥–∞—á–∏
- **–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ:** 5 –∑–∞–¥–∞—á
- **–£–ª—É—á—à–µ–Ω–∏—è:** 3 –∑–∞–¥–∞—á–∏
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:** 3 –∑–∞–¥–∞—á–∏
- **–ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:** 2 –∑–∞–¥–∞—á–∏

**–í—Å–µ–≥–æ:** 18 –∑–∞–¥–∞—á

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. **Routine Anchors UI** (–≤–∞–∂–Ω–æ –¥–ª—è UX)
2. **Share Functionality UI** (–∑–∞–≤–µ—Ä—à–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é)
3. **E2E Tests** (–∫–∞—á–µ—Å—Ç–≤–æ)
4. **Performance Indexing** (–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å)
5. **Fast Start Onboarding** (UX)
6. –û—Å—Ç–∞–ª—å–Ω–æ–µ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É

